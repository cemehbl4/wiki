---
title: Утилита trezorctl
weight: 11
date: 2025-04-29
---

**trezorctl** представляет собой мощный инструмент командной строки для управления устройствами Trezor. В данном руководстве будут описаны основные команды trezorctl.

## Установка trezorctl

Для установки trezorctl и настройки системы для работы с устройством выполните шаги из инструкции: [Подключение аппаратных кошельков по USB](linux/udev-rules).

Если вы хотите установить другую версию trezorctl, сначала получите список версий:

```bash
python3 -m pip install trezor==
```

Установите нужную версию:

```bash
python3 -m pip install trezor==0.13.9
```

Если вы хотите собрать свежую версию из исходного кода, выполните:

```bash
python3 -m pip uninstall trezor
git clone --recurse-submodules https://github.com/trezor/trezor-firmware ~/trezor-firmware
cd ~/trezor-firmware/python/
python3 -m pip install -r requirements.txt
python3 setup.py build
python3 setup.py install --user
```

## crypto — Криптографические функции

### get-entropy

Получить случайные байты от устройства.

Использование:

```
trezorctl crypto get-entropy РАЗМЕР
```

## device — Команды управления устройством

### backup

Создать резервную копию сид-фразы. Устройство должно находится в состоянии "Needs Backup". Дополнительные опции предназначены для резервного копирования [типа Advanced или Shamir](trezor/trezorctl/#setup) в кошельках Trezor T/Safe.

Использование:

```
trezorctl device backup
```

Пример для резервного копирования типа Advanced:

```
trezorctl device backup -t 2 -g 2 3 -g 2 3 -g 3 5
```

|Опция|Описание|
|---|---|
|-t, -\-group-threshold ЧИСЛО|Минимальное число групп для восстановления кошелька|
|-g, -\-group ПОРОГ КОЛИЧЕСТВО_ЧАСТЕЙ|Указывается порог и количество частей для каждой группы|

Таким образом, в нашем примере количество групп — 3 (*-g* указано трижды), любые 2 группы из 3 могут восстановить кошелек (*-t 2*). У каждой группы есть общее количество частей (3 у первых двух и 5 у третьей) и число частей, которые могут быть использованы для восстановления (2-из-3, 2-из-3 и 3-из-5 соответственно).

Пример для резервного копирования типа Shamir:

```
trezorctl device backup -t 1 -g 3 5
```

Стандартное резервное копирование с разделением секрета Шамира подразумевает одну группу (*-t 1*) с указанием количества частей и числа частей, необходимого для восстановления кошелька (3-из-5).

Для резервного копирования типа Advanced или Shamir устройство должно быть инициализировано с опцией *\-\-backup-type* single, shamir или advanced.

### load

Загрузить временную (до перезагрузки устройства) сид-фразу и пользовательскую конфигурацию в устройство. Функция работает только с эмулятором или прошивкой, [собранной](trezor/trezor-one-fw-build) с параметрами `DEBUG_LINK=1 PRODUCTION=0`. Для работы команды устройство должно быть не инициализировано. SLIP-0039 поддерживается только в Trezor T/Safe.

Использование:

```
trezorctl device load [ОПЦИИ]
```

|Опция|Описание|
|---|---|
|-m, -\-mnemonic SEED_ФРАЗА||
|-p, -\-pin PIN_КОД||
|-r, -\-passphrase-protection|Включить функцию кодовой фразы|
|-l, -\-label ИМЯ_КОШЕЛЬКА||
|-i, -\-ignore-checksum|Игнорировать контрольную сумму сид-фразы|
|-s, -\-slip0014|Загрузить тестовую сид-фразу формата BIP-0039 "all all all all all all all all all all all all" согласно [SLIP-0014](https://github.com/satoshilabs/slips/blob/master/slip-0014.md)|
|-a, -\-academic|Загрузить тестовую сид-фразу формата [SLIP-0039](https://github.com/satoshilabs/slips/blob/master/slip-0039.md) "academic again academic academic academic academic academic academic academic academic academic academic academic academic academic academic academic pecan provide remember"|
|-b, -\-needs-backup|Включить функцию создания резервной копии|
|-n, -\-no-backup|Выключить функцию создания резервной копии (по умолчанию)|

### reboot-to-bootloader

Перезагрузка устройства в режим загрузчика. Поддерживается только на Trezor One.

Использование:

```
trezorctl device reboot-to-bootloader
```

### setup

Настройка устройства и генерация сид-фразы. Для работы команды устройство должно быть не инициализировано. SLIP-0039 поддерживается только в Trezor T/Safe.

Использование:

```
trezorctl device setup [ОПЦИИ]
```

|Опция|Описание|
|---|---|
|-t, -\-strength [128\|192\|256]|Количество бит энтропии для создания сид-фразы. 128 — фраза BIP-0039 из 12 слов или фраза SLIP-0039 из 20 слов. 192 — фраза BIP-0039 из 18 слов. 256 — фраза BIP-0039 из 24 слов или фраза SLIP-0039 из 33 слов|
|-r, -\-passphrase-protection|Включить функцию кодовой фразы|
|-p, -\-pin-protection|Включить функцию защиты PIN-кодом|
|-l, -\-label ИМЯ_КОШЕЛЬКА||
|-u, -\-u2f-counter ЧИСЛО|Задать счетчик U2F|
|-s, -\-skip-backup|Пропустить резервное копирование|
|-n, -\-no-backup|Создать Seedless-кошелек без возможности резервного копирования|
|-b, -\-backup-type [bip39\|single\|shamir\|advanced]|Только для Trezor T/Safe. Тип резервного копирования. bip39 — фраза BIP-0039. single — фраза SLIP-0039. shamir — разделение секрета Шамира с указанием на устройстве количества частей и порога. advanced — разделение секрета Шамира с указанием на устройстве количества групп и количества частей/порога для каждой группы|
|-e, -\-entropy-check-count ЧИСЛО|Только для Trezor T/Safe. Количество проверок энтропии перед созданием кошелька (см. [статью](trezor/trezor-suite-checks/#%D0%BF%D1%80%D0%BE%D0%B2%D0%B5%D1%80%D0%BA%D0%B0-%D1%8D%D0%BD%D1%82%D1%80%D0%BE%D0%BF%D0%B8%D0%B8))|
|-e, -\-show-entropy|Устаревшая опция. Показать внутреннюю энтропию устройства при генерации сид-фразы. Функция не поддерживается в новых версиях прошивок (см. [руководство](trezor/trezor-one-check/#%D1%82%D0%B5%D1%81%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5-%D0%B3%D0%B5%D0%BD%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8-%D1%81%D0%B8%D0%B4-%D1%84%D1%80%D0%B0%D0%B7%D1%8B))|

### wipe

Сброс устройства до заводских настроек и удаление всех секретныx данных, включая сид-фразу.

Использование:

```
trezorctl device wipe [ОПЦИИ]
```

|Опция|Описание|
|---|---|
|-b, -\-bootloader|Сброс устройства в режиме загрузчика с удалением установленной прошивки|

## firmware — Команды управления прошивкой

### download

Скачать и верифицировать файл прошивки.

Использование:

```
trezorctl firmware download [ОПЦИИ]
```

|Опция|Описание|
|---|---|
|-v, -\-version ВЕРСИЯ|Версия прошивки для загрузки|
|-m, -\-model МОДЕЛЬ|Модель устройства: T1B1 (или 1, one), T2T1 (или t), T2B1 (или r, safe3, s3), T3B1, T3T1 (или safe5, s5)|
|-s, -\-skip-check|Не проверять целостность прошивки|
|-\-bitcoin-only|Скачать версию Bitcoin Only|

### get-hash

Получить хэш-сумму установленной прошивки в сочетании с криптографическим вызовом. За подробностями использования команды обратитесь к руководству [Проверка подлинности Trezor One](trezor/trezor-one-check/#%D0%BF%D1%80%D0%BE%D0%B2%D0%B5%D1%80%D0%BA%D0%B0-%D0%BF%D0%BE%D0%B4%D0%BB%D0%B8%D0%BD%D0%BD%D0%BE%D1%81%D1%82%D0%B8-%D0%BF%D1%80%D0%BE%D1%88%D0%B8%D0%B2%D0%BA%D0%B8).

Использование:

```
trezorctl firmware get-hash ВЫЗОВ
```

### update

Установка прошивки на устройство.

Использование:

```
trezorctl firmware update [ОПЦИИ]
```

|Опция|Описание|
|---|---|
|-f, -\-filename ФАЙЛ|Указать путь к файлу прошивки|
|-u, -\-url URL|Указать ссылку на файл прошивки|
|-v, -\-version ВЕРСИЯ|Версия прошивки для загрузки и установки|
|-s, -\-skip-check|Не проверять целостность прошивки|
|-n, -\-dry-run|Выполнить все шаги, но не устанавливать прошивку на устройство|
|-\-bitcoin-only|Скачать и установить версию Bitcoin Only|

### verify

Проверка целостности файла прошивки.

Использование:

```
trezorctl firmware verify [ОПЦИИ] ФАЙЛ
```

|Опция|Описание|
|---|---|
|-c, -\-check-device|Проверка совместимости устройства с прошивкой|

## set — Настройки устройства

### auto-lock-delay

Установка времени (в секундах) автоматической блокировки устройства. Для работы функции должен быть установлен PIN-код.

Использование:

```
trezorctl set auto-lock-delay СЕКУНДЫ
```

### brightness

Задать яркость экрана Trezor T.

Использование:

```
trezorctl set brightness
```

### display-rotation

Ориентация дисплея Trezor T.

Использование:

```
trezorctl set display-rotation [north|east|south|west]
```

### passphrase

Управление функцией кодовой фразы.

Использование:

```
trezorctl set passphrase КОМАНДА [АРГУМЕНТЫ]
```

|Команда|Описание|
|---|---|
|on|Включить функцию кодовой фразы|
|off|Выключить функцию кодовой фразы|
|hide [on\|off]|Показывать/не показывать кодовую фразу на устройстве|

## version — Отображение версии trezorctl/trezorlib

Использование:

```
trezorctl version
```