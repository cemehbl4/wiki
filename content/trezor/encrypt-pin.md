---
title: Шифрование PIN-кода с помощью карты microSD
weight: 1
date: 2025-03-24
---

> [Оригинал статьи на английском](https://trezor.io/learn/a/encrypt-pin-with-microsd-card)

Шифрование [PIN-кода](https://trezor.io/learn/a/pin-protection-on-trezor-devices) с помощью карты microSD обеспечивает дополнительную защиту от физических атак на Trezor Model T и Trezor Safe 5. Если эта функция включена, на карте microSD хранится случайно сгенерированный секрет. При проверке PIN-кода или использовании PIN-кода для разблокировки Trezor этот секрет комбинируется с PIN-кодом для расшифровки данных, хранящихся на устройстве. Проще говоря, устройство "привязывается" к карте microSD и не может быть разблокировано без нее, пока вы намеренно не отключите эту функцию или не сбросите устройство на заводские настройки.
  
Если вам необходимо выполнить сброс к заводским настройкам, обратитесь к соответствующему руководству:

- [Как стереть данные на Trezor Model T](https://trezor.io/learn/a/how-to-wipe-your-model-t)
- [Как стереть данные на Trezor Safe 5](https://trezor.io/learn/a/how-to-wipe-your-trezor-safe-5)

  
Если вы опасаетесь физических атак, вы можете извлекать SD-карту, когда устройство не используется, и хранить ее в отдельном месте. Одно без другого ничего не представляет для злоумышленника, поскольку секрет на SD-карте — это совершенно случайное значение, которое не несет в себе никакой информации о сид-фразе или кодовой фразе.
 

## Активация и использование защиты с использованием SD-карты

Для включения этой функции вам понадобится **trezorctl** версии ≥0.11. и карта microSD, отформатированная в FAT32.

> Если карта не отформатирована должным образом, Trezor предложит стереть и отформатировать ее для вас.

Существует три команды, связанные с защитой с использованием SD-карты:

```bash
trezorctl device sd-protect on
trezorctl device sd-protect off
trezorctl device sd-protect refresh 
```

Команда refresh заменяет текущий секрет SD-карты на новый. Это полезно, если вы вставили SD-карту в зараженный вредоносным ПО компьютер и опасаетесь, что секрет, хранящийся на карте, может быть скомпрометирован.

#### 1. Подключите устройство и вставьте карту microSD в слот для карты памяти

{{% image src="img/trezor/encrypt-pin-1.webp" /%}}

> Карту MicroSD следует вставлять контактами к себе, с правой стороны.

#### 2. Использование командной строки для включения защиты с использованием SD-карты

- Используйте команду:

```bash
trezorctl device sd-protect on
```

- Следуйте инструкциям на экране:

{{% image src="img/trezor/encrypt-pin-2.webp" /%}}

Поздравляем! Теперь ваше устройство привязано к секрету, хранящемуся на карте microSD. Вам нужно будет вставить карту в устройство, чтобы использовать PIN-код.

{{% image src="img/trezor/encrypt-pin-3.webp" /%}}

SD-карта требуется для включения функции, а затем каждый раз, когда вы хотите разблокировать устройство.